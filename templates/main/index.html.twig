{% extends "base.html.twig" %}
{% block body %}
    <h1 class="sr-only">Must Ménager, accueil</h1>
        {% if promotions|length > 0 %}
            <div id="main-carousel" class="relative w-full" data-carousel="slide">
                <!-- Carousel wrapper -->
                <div class="relative h-56 overflow-hidden md:h-96">
                    <!-- Items -->
                    {% for promotion in promotions %}
                        <div class="hidden duration-500 ease-in-out w-full h-full bg-white border-orange-900" data-carousel-item>
                            <div class="w-full h-full">
                                <div class="text-center absolute top-0 right-0 bottom-0 left-0">
                                    <h2 class="font-bold text-xl mt-4 text-[#123456] lg:text-4xl g:mt-10 w-full">{{ promotion.title }}</h2>
                                    {% if promotion.pictureName is null %}
                                        <div class="mt-4 text-sm lg:text-base">{{ promotion.description|raw }}</div>
                                    {% endif %}
                                </div>
                                {% if promotion.pictureName %}
                                    <img src="{{ asset('images/pictures/' ~ promotion.pictureName) }}" class="h-full w-full object-cover object-center" alt="illustration de la promotion {{ promotion.title }}">
                                {% endif %}
                            </div>
                            <!-- Call to Action -->
                            <div class="absolute z-30 flex -translate-x-1/2 bottom-12 left-1/2 space-x-3 rtl:space-x-reverse">
                                <a href="{{ path('app_promotion', { 'id': promotion.id, 'slug': promotion.slug }) }}" class="px-4 py-2 rounded text-center bg-[#e4306d] text-[#fffeff] text-sm lg:text-base">Découvrir l'offre</a>
                            </div>
                        </div>
                    {# {% else %}
                        <p>Texte de présentation de Must Ménager.</p> #}
                    {% endfor %}
                </div>
                
                <!-- Slider indicators -->
                <div class="absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3 rtl:space-x-reverse">
                    {% if promotions|length > 1 %}
                        {% for i in 1..(promotions|length) %}
                            <button type="button" class="w-3 h-3 rounded-full" aria-current="true" aria-label="Slide {{ loop.index0 }}" data-carousel-slide-to="{{ i }}"></button>
                        {% endfor %}
                    {% endif %}
                </div>
            </div>
        {% endif %}
        
    <article class="container">
        <h2>Nos meilleures offres</h2>
        <div id="products-wrapper" class="flex gap-x-4 sm:gap-x-10 gap-y-4">
            {% for product in products %}
                <div class="cards">
                    {% include "_partials/_product-card.html.twig" %}
                </div>
            {% endfor %}
        </div>
    </article>
    <div class="container">
        <article class="main-services">
            <h2 class="sr-only">
                Nos services
            </h2>
            <div class="main-services-container">
                <a href="{{ path('app_about') }}#retail" class="main-service">
                    <h3>Retrait en magasin</h3>
                    <svg class="w-10 h-10" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path fill-rule="evenodd" d="M5.535 7.677c.313-.98.687-2.023.926-2.677H17.46c.253.63.646 1.64.977 2.61.166.487.312.953.416 1.347.11.42.148.675.148.779 0 .18-.032.355-.09.515-.06.161-.144.3-.243.412-.1.111-.21.192-.324.245a.809.809 0 0 1-.686 0 1.004 1.004 0 0 1-.324-.245c-.1-.112-.183-.25-.242-.412a1.473 1.473 0 0 1-.091-.515 1 1 0 1 0-2 0 1.4 1.4 0 0 1-.333.927.896.896 0 0 1-.667.323.896.896 0 0 1-.667-.323A1.401 1.401 0 0 1 13 9.736a1 1 0 1 0-2 0 1.4 1.4 0 0 1-.333.927.896.896 0 0 1-.667.323.896.896 0 0 1-.667-.323A1.4 1.4 0 0 1 9 9.74v-.008a1 1 0 0 0-2 .003v.008a1.504 1.504 0 0 1-.18.712 1.22 1.22 0 0 1-.146.209l-.007.007a1.01 1.01 0 0 1-.325.248.82.82 0 0 1-.316.08.973.973 0 0 1-.563-.256 1.224 1.224 0 0 1-.102-.103A1.518 1.518 0 0 1 5 9.724v-.006a2.543 2.543 0 0 1 .029-.207c.024-.132.06-.296.11-.49.098-.385.237-.85.395-1.344ZM4 12.112a3.521 3.521 0 0 1-1-2.376c0-.349.098-.8.202-1.208.112-.441.264-.95.428-1.46.327-1.024.715-2.104.958-2.767A1.985 1.985 0 0 1 6.456 3h11.01c.803 0 1.539.481 1.844 1.243.258.641.67 1.697 1.019 2.72a22.3 22.3 0 0 1 .457 1.487c.114.433.214.903.214 1.286 0 .412-.072.821-.214 1.207A3.288 3.288 0 0 1 20 12.16V19a2 2 0 0 1-2 2h-6a1 1 0 0 1-1-1v-4H8v4a1 1 0 0 1-1 1H6a2 2 0 0 1-2-2v-6.888ZM13 15a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2Z" clip-rule="evenodd"/>
                    </svg>

                </a>
                <a href="{{ path('app_about') }}#delivery" class="block main-service">
                    <h3>Livraison</h3>
                    <svg class="w-10 h-10" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path fill-rule="evenodd" d="M4 4a2 2 0 0 0-2 2v9a1 1 0 0 0 1 1h.535a3.5 3.5 0 1 0 6.93 0h3.07a3.5 3.5 0 1 0 6.93 0H21a1 1 0 0 0 1-1v-4a.999.999 0 0 0-.106-.447l-2-4A1 1 0 0 0 19 6h-5a2 2 0 0 0-2-2H4Zm14.192 11.59.016.02a1.5 1.5 0 1 1-.016-.021Zm-10 0 .016.02a1.5 1.5 0 1 1-.016-.021Zm5.806-5.572v-2.02h4.396l1 2.02h-5.396Z" clip-rule="evenodd"/>
                    </svg>

                </a>
                <a href="{{ path('app_about') }}#waranty" class="block main-service">
                    <h3>SAV/Garantie</h3>
                    <svg class="w-10 h-10" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M11 9a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z"/>
                        <path fill-rule="evenodd" d="M9.896 3.051a2.681 2.681 0 0 1 4.208 0c.147.186.38.282.615.255a2.681 2.681 0 0 1 2.976 2.975.681.681 0 0 0 .254.615 2.681 2.681 0 0 1 0 4.208.682.682 0 0 0-.254.615 2.681 2.681 0 0 1-2.976 2.976.681.681 0 0 0-.615.254 2.682 2.682 0 0 1-4.208 0 .681.681 0 0 0-.614-.255 2.681 2.681 0 0 1-2.976-2.975.681.681 0 0 0-.255-.615 2.681 2.681 0 0 1 0-4.208.681.681 0 0 0 .255-.615 2.681 2.681 0 0 1 2.976-2.975.681.681 0 0 0 .614-.255ZM12 6a3 3 0 1 0 0 6 3 3 0 0 0 0-6Z" clip-rule="evenodd"/>
                        <path d="M5.395 15.055 4.07 19a1 1 0 0 0 1.264 1.267l1.95-.65 1.144 1.707A1 1 0 0 0 10.2 21.1l1.12-3.18a4.641 4.641 0 0 1-2.515-1.208 4.667 4.667 0 0 1-3.411-1.656Zm7.269 2.867 1.12 3.177a1 1 0 0 0 1.773.224l1.144-1.707 1.95.65A1 1 0 0 0 19.915 19l-1.32-3.93a4.667 4.667 0 0 1-3.4 1.642 4.643 4.643 0 0 1-2.53 1.21Z"/>
                    </svg>
                </a>
                <a href="{{ path('app_contact')}}" class="block main-service">
                    <h3>Conseil de pros</h3>
                    <svg class="w-10 h-10" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                        <path fill-rule="evenodd" d="M12 2a7 7 0 0 0-7 7 3 3 0 0 0-3 3v2a3 3 0 0 0 3 3h1a1 1 0 0 0 1-1V9a5 5 0 1 1 10 0v7.083A2.919 2.919 0 0 1 14.083 19H14a2 2 0 0 0-2-2h-1a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h1a2 2 0 0 0 1.732-1h.351a4.917 4.917 0 0 0 4.83-4H19a3 3 0 0 0 3-3v-2a3 3 0 0 0-3-3 7 7 0 0 0-7-7Zm1.45 3.275a4 4 0 0 0-4.352.976 1 1 0 0 0 1.452 1.376 2.001 2.001 0 0 1 2.836-.067 1 1 0 1 0 1.386-1.442 4 4 0 0 0-1.321-.843Z" clip-rule="evenodd"/>
                    </svg>
                </a>
            </div>
        </article>
        {% if about %}
        <article class="main-about group">
            {% if about.pictureName %}
                <img src="{{ asset('images/pictures/' ~ about.pictureName) }}" class="h-full w-full object-cover object-center mb-4" alt="illustration de notre point de vente">
            {% endif %}
            
            {{ about.description|raw }}
        </article>
        {% endif %}
        {% for profession in client.findProfessions %}
            <article id="{{ profession.slug }}" class="main-profession group relative">
                {% if profession.pictureName %}
                    <img src="{{ asset('images/pictures/' ~ profession.pictureName) }}" class="h-full w-full object-cover object-center mb-4" alt="illustration de notre point de vente">
                {% endif %}
                <div class="profession">{{ profession.description|raw }}</div>
            </article>
        {% endfor %}
        
    </div>
{% endblock %}